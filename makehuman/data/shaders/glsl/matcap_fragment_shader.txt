#version 120

/**
 * MatCap (captured material) shader.
 * Has the effect of a specular material, shaded relative to the camera without
 * lights.
 * The normal is used as UV coordinates of the matcap texture, which is a
 * spherically shaped mapping of colors for all angles that normals can face in
 * the half sphere facing the camera.
**/

// Matcap texture
uniform sampler2D matcap;

// Inputs
varying vec3 vNormal;

// Outputs
vec3 diffuse;


void main() {
    diffuse = texture2D(matcap, vec2(vNormal.xyz * vec3(0.495) + vec3(0.5))).rgb;
    gl_FragColor.rgb = diffuse;
    gl_FragColor.a = 1.0;
}
